#include "sort.h"

void insertion_sort_list(listint_t **list)
{
	listint_t *current;
	listint_t *keeper;

	current = *list;


	while(current->next)
	{

		if (current->n > current->next->n)
		{
			current->next->prev = current->prev;
			if (!(current->next->prev))
			{
				*list = current->next;
			}
			current->prev->next = current->next;
			current->prev= current->next->prev;
			current->next = current->next->next;
			current->next->next = current;
			keeper = current->prev;

			while(keeper->prev)
			{
				if (keeper->n < keeper->prev->n)
				{
					keeper->prev = keeper->prev->prev;
					keeper->prev->next = keeper->next;
					keeper->next = keeper->prev;
					if(keeper->prev->prev)
					{
						keeper->prev->prev->next =  keeper;
					}
				}

			}
		}
		else
			current = current->next;

	}


}
